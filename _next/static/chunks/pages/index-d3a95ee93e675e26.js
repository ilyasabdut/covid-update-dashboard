(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{2936:(e,s,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(4275)}])},4275:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>N});var r=a(7876),d=a(4232),c=a(6768);let l=e=>fetch(e).then(e=>e.json()),t=()=>{let{data:e,error:s}=(0,c.Ay)("/api/covid",l);return{covids:e,error:s}};var n=a(7833);let i=e=>{let{csvData:s,fileName:a}=e;return(0,r.jsx)("button",{type:"button",className:"btn btn-outline-primary",children:(0,r.jsx)(n.CSVLink,{data:s,filename:a,headers:[{label:"Province",key:"name"},{label:"Positive Cases",key:"numbers.infected"},{label:"Recovered Cases",key:"numbers.recovered"},{label:"Death Cases",key:"numbers.fatal"}],children:"Export to CSV"})})};var h=a(1134),o=a(1047);function m(e){let{covid:s,index:a}=e,d={labels:["Infected","Recovered","Fatal"],datasets:[{label:s.name,backgroundColor:["rgba(75, 192, 192, 0.6)","rgba(54, 162, 235, 0.6)","rgba(255, 99, 132, 0.6)"],borderColor:["rgba(75, 192, 192, 1)","rgba(54, 162, 235, 1)","rgba(255, 99, 132, 1)"],borderWidth:1,data:[s.numbers.infected,s.numbers.recovered,s.numbers.fatal]}]};return(0,r.jsx)("div",{className:"chart",children:(0,r.jsx)(h.yP,{data:d},a)})}function x(e){let{covid:s}=e,{name:a}=s;return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:a}),(0,r.jsx)("td",{children:s.numbers.infected}),(0,r.jsx)("td",{children:s.numbers.recovered}),(0,r.jsx)("td",{children:s.numbers.fatal})]})}o.t1.register(o.PP,o.kc,o.E8,o.hE,o.m_,o.s$);var j=a(2054),b=a.n(j),v=a(8537);function u(e){let{metric:s}=e;return(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-4",children:(0,r.jsxs)("div",{className:"card",style:{width:" 18rem"},children:[(0,r.jsx)("div",{className:"card-header",children:"Total Infected"}),(0,r.jsx)("div",{className:"card-body",children:(0,r.jsxs)("p",{className:"card-text",children:[s.infected," "]})})]})}),(0,r.jsx)("div",{className:"col-md-4",children:(0,r.jsxs)("div",{className:"card",style:{width:" 18rem"},children:[(0,r.jsx)("div",{className:"card-header",children:"Total Recovered"}),(0,r.jsx)("div",{className:"card-body",children:(0,r.jsxs)("p",{className:"card-text",children:[s.recovered," "]})})]})}),(0,r.jsx)("div",{className:"col-md-4",children:(0,r.jsxs)("div",{className:"card",style:{width:" 18rem"},children:[(0,r.jsx)("div",{className:"card-header",children:"Total Deaths"}),(0,r.jsx)("div",{className:"card-body",children:(0,r.jsxs)("p",{className:"card-text",children:[s.fatal," "]})})]})})]})}function N(){let e=(0,d.useRef)(null),{covids:s,error:a}=t("/");return((0,d.useEffect)(()=>{if(e.current){let s=b()(e.current).DataTable({paging:!1,destroy:!0});return()=>{s.destroy()}}},[s]),a)?(0,r.jsxs)("h1",{children:["Something went wrong: ",a.message]}):s?(console.log(s.regions),(0,r.jsxs)("div",{className:"container",children:[(0,r.jsxs)("div",{className:"card",children:[(0,r.jsxs)("div",{className:"card-header d-flex",children:[(0,r.jsx)("h2",{children:"Covid Update Indonesia"}),(0,r.jsx)("div",{className:"ml-auto p-2",children:(0,r.jsx)(i,{csvData:s.regions,fileName:"covid.csv"})})]}),(0,r.jsx)("div",{className:"card-body",children:(0,r.jsx)(u,{metric:s.numbers})})]}),(0,r.jsxs)("table",{ref:e,id:"tableCovid",className:"table table-striped table-border",style:{width:"100%"},children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Province"}),(0,r.jsx)("th",{children:"Positive Cases"}),(0,r.jsx)("th",{children:"Recovered Cases"}),(0,r.jsx)("th",{children:"Death Cases"})]})}),(0,r.jsx)("tbody",{children:s.regions.map((e,s)=>(0,r.jsx)(x,{covid:e},s))})]}),s.regions.map((e,s)=>(0,r.jsx)(m,{covid:e},s))]})):(0,r.jsx)("h1",{children:"Loading..."})}b().DataTable=v.A}},e=>{var s=s=>e(e.s=s);e.O(0,[868,697,918,908,636,593,792],()=>s(2936)),_N_E=e.O()}]);