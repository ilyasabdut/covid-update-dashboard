(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{2936:(e,a,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return s(4275)}])},4275:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>N});var r=s(7876),d=s(4232),l=s(6768);let c=async e=>{let a=await fetch(e);if(!a.ok)throw Error("Failed to fetch data");return a.json()},n=()=>{let{data:e,error:a}=(0,l.Ay)("https://wallet-transaction-backend.onrender.com/api/external/covid",c);return console.log("Fetched data:",e||"Loading..."),{covids:e,error:a}};var t=s(7833);let i=e=>{let{csvData:a,fileName:s}=e;return(0,r.jsx)("button",{type:"button",className:"btn btn-outline-primary",children:(0,r.jsx)(t.CSVLink,{data:a,filename:s,headers:[{label:"Province",key:"name"},{label:"Positive Cases",key:"numbers.infected"},{label:"Recovered Cases",key:"numbers.recovered"},{label:"Death Cases",key:"numbers.fatal"}],children:"Export to CSV"})})};var o=s(1134),h=s(1047);function v(e){let{covid:a,index:s}=e,d={labels:["Infected","Recovered","Fatal"],datasets:[{label:a.name,backgroundColor:["rgba(75, 192, 192, 0.6)","rgba(54, 162, 235, 0.6)","rgba(255, 99, 132, 0.6)"],borderColor:["rgba(75, 192, 192, 1)","rgba(54, 162, 235, 1)","rgba(255, 99, 132, 1)"],borderWidth:1,data:[a.numbers.infected,a.numbers.recovered,a.numbers.fatal]}]};return(0,r.jsx)("div",{className:"chart",children:(0,r.jsx)(o.yP,{data:d},s)})}function m(e){let{covid:a}=e,{name:s}=a;return(0,r.jsxs)("tr",{children:[(0,r.jsx)("td",{children:s}),(0,r.jsx)("td",{children:a.numbers.infected}),(0,r.jsx)("td",{children:a.numbers.recovered}),(0,r.jsx)("td",{children:a.numbers.fatal})]})}h.t1.register(h.PP,h.kc,h.E8,h.hE,h.m_,h.s$);var x=s(2054),u=s.n(x),b=s(8537);function j(e){let{metric:a}=e;return(0,r.jsxs)("div",{className:"row",children:[(0,r.jsx)("div",{className:"col-md-4",children:(0,r.jsxs)("div",{className:"card",style:{width:" 18rem"},children:[(0,r.jsx)("div",{className:"card-header",children:"Total Infected"}),(0,r.jsx)("div",{className:"card-body",children:(0,r.jsxs)("p",{className:"card-text",children:[a.infected," "]})})]})}),(0,r.jsx)("div",{className:"col-md-4",children:(0,r.jsxs)("div",{className:"card",style:{width:" 18rem"},children:[(0,r.jsx)("div",{className:"card-header",children:"Total Recovered"}),(0,r.jsx)("div",{className:"card-body",children:(0,r.jsxs)("p",{className:"card-text",children:[a.recovered," "]})})]})}),(0,r.jsx)("div",{className:"col-md-4",children:(0,r.jsxs)("div",{className:"card",style:{width:" 18rem"},children:[(0,r.jsx)("div",{className:"card-header",children:"Total Deaths"}),(0,r.jsx)("div",{className:"card-body",children:(0,r.jsxs)("p",{className:"card-text",children:[a.fatal," "]})})]})})]})}function N(){var e,a;let s=(0,d.useRef)(null),{covids:l,error:c}=n();return((0,d.useEffect)(()=>{var e;(null==l?void 0:null===(e=l.regions)||void 0===e?void 0:e.length)>0&&s.current&&!u().fn.DataTable.isDataTable(s.current)&&u()(s.current).DataTable({paging:!1,destroy:!0})},[l]),c)?(0,r.jsxs)("h1",{children:["Something went wrong: ",c.message]}):l?(0,r.jsxs)("div",{className:"container",children:[(0,r.jsxs)("div",{className:"card",children:[(0,r.jsxs)("div",{className:"card-header d-flex",children:[(0,r.jsx)("h2",{children:"Covid Update Indonesia"}),(0,r.jsx)("div",{className:"ml-auto p-2",children:(0,r.jsx)(i,{csvData:(null==l?void 0:l.regions)||[],fileName:"covid.csv"})})]}),(0,r.jsx)("div",{className:"card-body",children:(0,r.jsx)(j,{metric:null==l?void 0:l.numbers})})]}),(0,r.jsxs)("table",{ref:s,id:"tableCovid",className:"table table-striped table-border",style:{width:"100%"},children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{children:[(0,r.jsx)("th",{children:"Province"}),(0,r.jsx)("th",{children:"Positive Cases"}),(0,r.jsx)("th",{children:"Recovered Cases"}),(0,r.jsx)("th",{children:"Death Cases"})]})}),(0,r.jsx)("tbody",{children:null==l?void 0:null===(e=l.regions)||void 0===e?void 0:e.map((e,a)=>(0,r.jsx)(m,{covid:e},a))})]}),null==l?void 0:null===(a=l.regions)||void 0===a?void 0:a.map((e,a)=>(0,r.jsx)(v,{covid:e},a))]}):(0,r.jsx)("h1",{children:"Loading..."})}u().DataTable=b.A}},e=>{var a=a=>e(e.s=a);e.O(0,[868,697,918,908,636,593,792],()=>a(2936)),_N_E=e.O()}]);